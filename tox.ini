[tox]
envlist = py39,py310,py311,py312,py313,lint,typecheck
skip_missing_interpreters = true

[testenv]
deps =
    pytest>=7.0
    pytest-cov>=4.0
commands =
    pytest tests/ --ignore=tests/test_integration.py --ignore=tests/test_extreme_stress.py -v {posargs}

[testenv:lint]
deps =
    ruff>=0.1.0
commands =
    ruff check src/

[testenv:typecheck]
deps =
    mypy>=1.0
commands =
    mypy src/

[testenv:py39]
basepython = python3.9

[testenv:py310]
basepython = python3.10

[testenv:py311]
basepython = python3.11

[testenv:py312]
basepython = python3.12

[testenv:py313]
basepython = python3.13

[testenv:coverage]
deps =
    pytest>=7.0
    pytest-cov>=4.0
commands =
    pytest tests/ --ignore=tests/test_integration.py --ignore=tests/test_extreme_stress.py --cov=llmexpect --cov-report=html --cov-report=term-missing
